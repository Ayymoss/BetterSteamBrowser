@using BetterSteamBrowser.Business.ViewModels
@using Humanizer

<RadzenRow JustifyContent="JustifyContent.Center">
    <RadzenColumn SizeSM="12" SizeMD="10" SizeXX="8">
        <RadzenCard>
            <RadzenRow JustifyContent="JustifyContent.Center" class="rz-mb-4">
                <RadzenColumn SizeSM="12" SizeMD="3">
                    <RadzenText TextAlign="TextAlign.Start" Text="Tracked Games" TextStyle="TextStyle.DisplayH4" class="rz-mb-0 rz-mt-2"/>
                </RadzenColumn>
                <RadzenColumn SizeSM="12" SizeMD="9">
                    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.End" JustifyContent="JustifyContent.End" Wrap="FlexWrap.Wrap">
                        <RadzenFormField Text="Search" Variant="Variant.Outlined" Style="width: 100%; max-width: 300px;">
                            <ChildContent>
                                <RadzenTextBox @bind-Value="_searchString" Change="OnSearch"/>
                            </ChildContent>
                            <End>
                                <RadzenIcon Icon="search" IconStyle="IconStyle.Info"/>
                            </End>
                        </RadzenFormField>
                    </RadzenStack>
                </RadzenColumn>
            </RadzenRow>
            <RadzenDataGrid @ref="_dataGrid" TItem="SteamGame" IsLoading="@_isLoading" Count="@_count" Data="@_blockTable" LoadData="@LoadData"
                            Density="Density.Compact" AllowPaging="true" PageSize="25" AllowSorting="true" PagerAlwaysVisible="true"
                            PagerHorizontalAlign="HorizontalAlign.Center" PageSizeOptions="new[] {25, 50, 100}" ShowPagingSummary="true"
                            PagingSummaryFormat="Displaying page {0} of {1} <b>(total {2} records)</b>" AllowColumnResize="true"
                            RowClick="RowClickEvent" Style="min-height: 200px;" class="rz-selectable">
                <Columns>
                    <RadzenDataGridColumn TItem="SteamGame" Property="Name" Title="Game Name" MinWidth="120px" Width="500px"/>
                    <RadzenDataGridColumn TItem="SteamGame" Property="AppId" Title="App ID" SortOrder="SortOrder.Ascending" MinWidth="60px"/>
                </Columns>
                <EmptyTemplate>
                    <RadzenText TextAlign="TextAlign.Center" TextStyle="TextStyle.H6" class="rz-my-4" Text="There are no games..."/>
                </EmptyTemplate>
            </RadzenDataGrid>
        </RadzenCard>
    </RadzenColumn>
</RadzenRow>
